<mat-card class="sign-message">
  <mat-card-header>
    <mat-card-title>Sign Message</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-form-field appearance="outline">
      <mat-label>Message</mat-label>
      <textarea #msgInput matInput cdkTextareaAutosize 
                [readonly]="msg != undefined"
                [(ngModel)]="message"
                placeholder="Please enter the message to sign"></textarea>
    </mat-form-field>

  @if (msg != undefined) {
    <mat-button-toggle-group name="display" hideSingleSelectionIndicator 
                             (valueChange)="displayChangeHandler($event)">
      <mat-button-toggle value="text">Text</mat-button-toggle>
      <mat-button-toggle value="json">JSON</mat-button-toggle>
      <mat-button-toggle value="hex">Hex</mat-button-toggle>
      <mat-button-toggle value="base64">Base64</mat-button-toggle>
    </mat-button-toggle-group>
  }

  @if (signature != '') {
    <mat-card appearance="outlined">
      <mat-card-header>Result</mat-card-header>
      <mat-card-content>
        <pre class="signature">{{ signature }}</pre>
      </mat-card-content>
    </mat-card>
  }
  </mat-card-content>
  <mat-card-actions>
    <button mat-button color="primary" (click)="signMessage(msgInput.value)">
      <mat-icon fontSet="material-symbols-outlined">
        signature
      </mat-icon>
      Signature
    </button>
  </mat-card-actions>
</mat-card>
